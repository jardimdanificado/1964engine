
// ⠄⠄⠄⠄⠄⠄⠄⠄⣠⣴⠶⠿⠛⠛⠛⠛⠛⠛⠷⠶⢶⣤⣀⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄
// ⠄⠄⠄⠄⠄⣤⣶⠟⠉⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠈⠛⢿⣶⣤⠄⠄⠄⠄⠄⠄⠄⠄
// ⠄⠄⠄⣠⣾⠟⠁⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠻⣿⣿⣦⡀⠄⠄⠄⠄⠄
// ⠄⠄⣼⣿⠋⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠹⣿⣿⣿⣆⠄⠄⠄⠄
// ⠄⣸⣿⡇⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⢸⣿⣿⣿⣧⡀⠄⠄
// ⢰⣿⣿⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⢰⣿⣿⣿⣿⣇⠄⠄
// ⢸⣿⣿⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⣿⣿⣿⣿⣿⣿⡀⠄
// ⢸⣿⣿⢠⣤⣤⣄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⣀⣀⣠⣤⡀⠄⢸⣿⣿⡟⣿⣿⡇⠄
// ⢸⣿⣿⣿⠏⠛⠛⠿⣷⣶⣄⠄⠄⠄⠄⣠⣴⣾⣿⡿⠟⠛⠛⠛⠛⢦⣼⣿⣿⡔⣾⣿⡇⠄
// ⠄⢿⣿⡟⢀⣤⣶⣶⠾⢿⣿⣷⠄⠄⢠⣿⣿⢛⡿⢿⣷⡶⠦⣤⣄⡈⢿⣿⣿⣿⣾⣿⠃⠄
// ⣶⢾⣿⠄⠉⠁⠉⠉⠄⠤⠞⣿⠄⠄⢸⣿⡿⠄⠈⠄⠄⠁⠉⣽⠟⠄⠈⣿⣿⣿⣿⣿⣿⡇
// ⣿⣿⣿⠄⠄⠄⠄⠄⠄⠄⠄⠃⠄⠄⢸⣿⡇⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⣿⣿⣿⣿⣇⡏⣧
// ⣿⣿⣿⡇⠄⠄⠄⠄⠄⡴⠄⠣⡀⢀⣸⣿⠿⣷⠄⠄⠄⠄⠄⠄⠄⠄⣠⣿⣿⣿⣿⣿⣿⢸
// ⢹⣿⣿⣧⠄⠄⠄⠄⠄⠙⠚⣛⡊⣻⣿⡛⠗⠋⠄⠄⠄⠄⠄⠄⠄⢰⣿⣿⣿⣿⣿⣿⠏⡜
// ⠈⢻⣿⣿⡆⠄⠄⢀⣴⣴⣿⣿⠿⢾⡻⠿⢿⣶⣶⣦⡀⠄⠄⠄⠄⣿⣿⣿⣿⣿⣿⣿⡜⠁
// ⠄⠄⣿⣿⣿⠄⠄⣾⣿⣿⠿⠛⠛⠛⠛⠿⠶⣿⣿⣿⣿⡆⠄⠄⢀⣿⣿⣿⣿⣿⡿⠟⠄⠄
// ⠄⠄⠄⢹⣿⣄⠄⠉⠁⠄⠳⢶⣶⣶⣶⣶⣾⣿⡟⠃⠄⠁⠄⠄⣼⣿⣿⣿⣿⣏⠄⠄⠄⠄
// ⠄⠄⠄⠘⣿⣿⣆⣀⣀⡀⡀⡖⣸⣶⣶⣿⣿⣿⣷⣦⡀⠄⢀⣾⣿⣿⣿⣿⣿⣿⠄⠄⠄⠄
// ⠄⠄⠄⠄⣿⣿⣿⣿⣿⠟⠁⠁⢿⣿⡿⠍⠻⣿⣿⣿⣿⣾⣿⣿⣿⣿⣿⣿⣿⣿⠄⠄⠄⠄
// ⠄⠄⠄⣼⣿⣿⡿⣿⣿⣴⠄⠰⣿⣿⣇⢀⠄⠸⣿⣿⣿⣿⣿⣿⠟⣿⣿⣿⣿⣿⡀⠄⠄⠄
// ⠄⠄⠘⠿⣿⣿⣿⣀⠙⠿⣷⣤⣼⣿⣿⣾⣷⣾⣿⡿⠟⠋⠉⠄⠄⣿⣿⣿⣿⣿⠇⠄⠄⠄
// ⠄⠄⠄⠄⠈⠛⠿⣿⣶⣤⡈⠛⢿⣿⣿⠿⠛⠉⠁⠄⠄⠄⠄⠄⠄⣿⣿⣿⣿⣿⠄⠄⠄⠄
// ⠄⠄⠄⠄⠄⠄⠄⠈⠛⠿⣿⣿⣦⣤⣀⡀⠄⠄⠄⠄⠄⠄⠄⠄⢘⣿⣿⣿⣿⡿⠄⠄⠄⠄
// ⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠉⠉⠛⠻⠿⠿⢶⣦⣄⣀⣀⣀⣀⣼⡿⠿⠿⠛⠁⠄⠄⠄⠄

//LIB C
#include <time.h>
#include <locale.h>
#include "../../abin/abindependencies.h"
//RAYLIB
#include "../../raylib/raylib.h"

//ABIN Files
#include "../../abin/abin.h"

Camera MQCameraStart ( Camera *camera )
{
    camera->position = ( Vector3 )
    {
        10.0f, 10.0f, 10.0f
    };
    camera->target = ( Vector3 )
    {
        0.0f, 0.0f, 0.0f
    };
    camera->up = ( Vector3 )
    {
        0.0f, 1.0f, 0.0f
    };
    camera->fovy = 30.0f;
    camera->projection = CAMERA_PERSPECTIVE;
    SetCameraMode ( *camera, CAMERA_CUSTOM );
    return ( *camera );
}

void MQTempReset()
{
    if ( abinCoreFileCheck ( "./data/temp/temp.temp" ) == true )
        remove ( "./data/temp/temp.temp" );
    abinCoreFileCreate ( "./data/temp/temp.temp" );
}

void MQTempNew ( char* tempid )
{
    snprintf ( ABINCACHE512,512,"./data/temp/%s.temp",tempid );
    if ( abinCoreFileCheck ( ABINCACHE512 ) == true )
        remove ( ABINCACHE512 );
    abinCoreFileCreate ( ABINCACHE512 );
}

char* MQTempGet ( char* fileloc, char* typename )
{
    if ( abinCoreFileCheck ( fileloc ) == true )
        return abinCoreReturnData ( fileloc, typename );
    else
    {
        snprintf ( ABINCACHE512,512,"ERROR-IN>MQTempGet()>%s_NotFound",fileloc );
        abinDEBUGtext ( "./data/debug.text", ABINCACHE512 );
        return "ERROR";
    }
}

void MQTempSet ( char* fileloc, char* typename, char* keyword )
{
    abinDEBUGtext ( "./debug.text",ABINCACHE512 );
    abinDEBUGtext ( "./debug.text",typename );
    abinDEBUGtext ( "./debug.text",keyword );
    if ( abinCoreFileCheck ( ABINCACHE512 ) == true )
    {
        abinCoreAddNewData ( fileloc, typename, keyword );
    }
    else
    {
        abinCoreFileCreate ( fileloc );
        abinCoreAddNewData ( fileloc, typename, keyword );
    }
}

int main ( int argc, char **argv )
{
    MQTempReset();
    MQTempNew ( "menu" );
    MQTempSet ( "./data/temp/model.temp","bunda","pinto" );
    MQTempSet ( "./data/temp/model.temp","sadasda","cxzczxc" );
    MQTempSet ( "menu","dasdas","trhrth" );
    MQTempSet ( "menu","dasedavvx","bgsfbgbf" );
    abinDEBUGtext ( "./debug.text",MQTempGet ( "./data/temp/model.temp","bunda" ) );
    return 0;


    int screenH, screenW;
    screenH = 240;
    screenW = 600;


    //SetConfigFlags(FLAG_FULLSCREEN_MODE);
    InitWindow ( screenW,screenH,"R64ENDERER" );
    Camera camera = MQCameraStart ( &camera );
    bool MQEXIT=false;
    SetTargetFPS ( 60 );
    camera.target = ( Vector3 )
    {
        0,2,0
    };
    SetCameraMode ( camera,CAMERA_ORBITAL );
    SetExitKey ( KEY_ESCAPE );

    Model *modelos;
    modelos = malloc ( sizeof ( struct Model ) * ( argc+2 ) );
    BoundingBox *hitbox;
    hitbox = malloc ( sizeof ( struct BoundingBox ) * ( argc+2 ) );
    modelos[0] = LoadModel ( argv[1] );
    abinDEBUGint ( "debug.text",argc );
    for ( int i = 1; i<argc; i++ )
    {
        abinDEBUGtext ( "debug.text",argv[i] );
        modelos[i-1] = LoadModel ( argv[i] );
        hitbox[i-1] = GetModelBoundingBox ( modelos[i-1] );
    }

    while ( !WindowShouldClose() &&MQEXIT == false )
    {
        //MQAIHumanTargetSet(&humano, 0, data.game.posicao.personagem[0]);
        //MQAIHumanMove(personagem, data, &humano, 0);
        printf ( "%s",argv[0] );
        UpdateCamera ( &camera );
        BeginDrawing();
        ClearBackground ( ( Color )
        {
            0, 0, 0, 255
        } );

        //DrawTextEx ( font, msg, fontPosition, 16, 0, COR_CINZA );

        BeginMode3D ( camera );
        for ( int i = 0; i<argc-1; i++ )
        {
            DrawModel ( modelos[i], ( Vector3 )
            {
                0.0f, 0.0f,0.0f
            }, 1.0f, WHITE );
            DrawBoundingBox ( hitbox[i], BLACK );
        }
        EndMode3D();
        //DrawTextEx ( font, msg,(Vector2){0,MAXHEI-16}, 16, 0, COR_PRETO );
        EndDrawing();

    }
    CloseWindow();              // Close window and OpenGL context
    //--------------------------------------------------------------------------------------
//     for(int i = 0; i<argc-1;i++)
//     {
//         UnloadModel(modelos[i]);
//     }
//     free(modelos);
//     free(hitbox);
    return 0;
}
